package com.lcvc.ebuy_maven_ssm.web.shop;import com.lcvc.ebuy_maven_ssm.model.Admin;import com.lcvc.ebuy_maven_ssm.service.AdminService;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import javax.annotation.Resource;import javax.servlet.http.HttpSession;import java.util.HashMap;import java.util.Map;@Controller@RequestMapping(value = "/shop")public class SigninSignupController {	@Resource	private AdminService adminService;	/*	 * 显示登录页面，该登录页面是使用Ajax进行登录	 */	@RequestMapping(value = "/toSignin", method = RequestMethod.GET)	public String toSignin() {		return "/jsp/shop/signin.jsp";	}	/*	 * 用于判断登录	 */	@ResponseBody	@RequestMapping(value = "/doSignin", method = RequestMethod.POST)	public Map<String, Object> doSignin(String username, String password, HttpSession session) {		Map<String, Object> map = new HashMap<String, Object>();		Admin admin = adminService.login(username, password);		if (admin != null) {			session.setAttribute("admin", admin);			map.put("status", 1);			//return "redirect:/backstage/index";		} else {			//request.setAttribute("myMessage", "登录失败:密码错误");			//	return "/jsp/backstage/login.jsp";			map.put("status", 0);			map.put("myMessage", "登录失败:密码错误");		}		return map;	}	//注销登录	@RequestMapping(value = "/logout", method = RequestMethod.GET)	public String doLogout(HttpSession session) {		session.removeAttribute("admin");		return "/jsp/shop/signin.jsp";	}}